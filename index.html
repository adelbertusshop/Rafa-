<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Rafa≈Ç Pistrakiewicz Bau & Renovierung</title>
  <meta name="description" content="Rafa≈Ç Pistrakiewicz Bau & Renovierung - polskie us≈Çugi budowlane w Niemczech. Remonty, budowa dom√≥w, malowanie." />
  <meta name="author" content="Rafa≈Ç Pistrakiewicz" />
  <meta property="og:title" content="Rafa≈Ç Pistrakiewicz Bau & Renovierung" />
  <meta property="og:description" content="Polskie us≈Çugi budowlane w Niemczech - remonty, budowa dom√≥w, malowanie." />
  <link rel="icon" href="/favicon.ico" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    body { font-family: 'Poppins', sans-serif; }
    :root { --gold: #d4af37; --nav-bg: #0a1a2f; --nav-text: #d4af37; }
    .gold-text { color: var(--gold); }
    .gold-bg { background-color: var(--gold); color: #0a1a2f; }
    .reg-btn { background: linear-gradient(90deg,#d4af37,#b8941f); color:#fff; }
    /* mobile bottom nav */
    .mobile-bottom-nav { display:none; position:fixed; bottom:0; left:0; right:0; background:var(--nav-bg); padding:.5rem; z-index:1000; border-top:1px solid #1e3a5f; }
    @media (max-width:768px){ body{padding-bottom:70px;} .mobile-bottom-nav{display:block;} }
    .hidden-el { display:none; }
    /* blog styles small tweak */
    .blog-card { background:#0f1724; border:1px solid rgba(212,175,55,0.15); color:#e6e6e6; }
    .gold-head { color:var(--gold); }
  </style>
</head>
<body class="bg-gray-50 text-gray-900">

  <!-- Loading -->
  <div id="loading" class="fixed inset-0 bg-white z-50 flex items-center justify-center">
    <div class="animate-spin rounded-full h-16 w-16 border-t-2 border-b-2" style="border-color:var(--gold)"></div>
  </div>

  <!-- Header -->
  <header class="bg-[var(--nav-bg)] text-white py-4 sticky top-0 z-50 shadow">
    <div class="container mx-auto px-6 flex items-center justify-between">
      <h1 class="text-xl md:text-2xl font-bold gold-text">Rafa≈Ç Pistrakiewicz Bau & Renovierung</h1>

      <nav class="hidden md:flex gap-8 items-center text-white">
        <a href="#o-nas" class="hover:text-[var(--gold)]" data-pl="O nas" data-de="√úber uns">O nas</a>
        <a href="#uslugi" class="hover:text-[var(--gold)]" data-pl="Us≈Çugi" data-de="Dienstleistungen">Us≈Çugi</a>
        <a href="#realizacje" class="hover:text-[var(--gold)]" data-pl="Realizacje" data-de="Projekte">Realizacje</a>
        <a href="#opinie" class="hover:text-[var(--gold)]" data-pl="Opinie" data-de="Bewertungen">Opinie</a>
        <a href="#partnerzy" class="hover:text-[var(--gold)]" data-pl="Partnerzy" data-de="Partner">Partnerzy</a>
        <a href="#kontakt" class="hover:text-[var(--gold)]" data-pl="Kontakt" data-de="Kontakt">Kontakt</a>
      </nav>

      <div class="flex items-center gap-4">
        <div class="text-sm hidden md:block text-gray-200">üìû +49 123 456 7890</div>
        <div class="flex items-center gap-2">
          <button class="lang-btn" data-lang="pl" aria-label="PL">üáµüá±</button>
          <button class="lang-btn" data-lang="de" aria-label="DE">üá©üá™</button>
        </div>
        <button id="mobileMenuButton" class="md:hidden text-white ml-2">
          <i class="fa fa-bars"></i>
        </button>
      </div>
    </div>

    <!-- mobile menu -->
    <div id="mobileMenu" class="hidden md:hidden bg-[var(--nav-bg)]">
      <div class="p-6 flex flex-col gap-4">
        <a href="#o-nas" class="text-white" data-pl="O nas" data-de="√úber uns">O nas</a>
        <a href="#uslugi" class="text-white" data-pl="Us≈Çugi" data-de="Dienstleistungen">Us≈Çugi</a>
        <a href="#realizacje" class="text-white" data-pl="Realizacje" data-de="Projekte">Realizacje</a>
        <a href="#opinie" class="text-white" data-pl="Opinie" data-de="Bewertungen">Opinie</a>
        <a href="#partnerzy" class="text-white" data-pl="Partnerzy" data-de="Partner">Partnerzy</a>
        <a href="#kontakt" class="text-white" data-pl="Kontakt" data-de="Kontakt">Kontakt</a>
        <div class="pt-4 border-t border-gray-700 text-gray-200">
          <p>üìû +49 123 456 7890</p>
          <!-- private email removed as requested -->
        </div>
      </div>
    </div>
  </header>

  <!-- Hero -->
  <section class="bg-gradient-to-r from-[#0a1a2f] to-[#1e3a5f] text-white py-20">
    <div class="container mx-auto px-6 text-center">
      <h2 class="text-3xl md:text-4xl font-bold gold-text" data-pl="Polska fachowo≈õƒá, niemiecka precyzja" data-de="Polnische Facharbeit, deutsche Pr√§zision">Polska fachowo≈õƒá, niemiecka precyzja</h2>
      <p class="max-w-2xl mx-auto mt-4 text-gray-200" data-pl="Zaufaj do≈õwiadczeniu i rzetelno≈õci. Nasze realizacje m√≥wiƒÖ same za siebie." data-de="Vertrauen Sie auf Erfahrung und Zuverl√§ssigkeit. Unsere Arbeiten sprechen f√ºr sich.">Zaufaj do≈õwiadczeniu i rzetelno≈õci. Nasze realizacje m√≥wiƒÖ same za siebie.</p>
      <div class="mt-8 flex justify-center gap-4">
        <a href="#kontakt" class="px-6 py-3 rounded-lg gold-bg font-semibold" data-pl="Zapytaj o wycenƒô" data-de="Kostenangebot anfordern">Zapytaj o wycenƒô</a>
        <a href="#realizacje" class="px-6 py-3 rounded-lg border border-white text-white hover:bg-white hover:text-[var(--nav-bg)] transition" data-pl="Zobacz realizacje" data-de="Projekte ansehen">Zobacz realizacje</a>
      </div>
    </div>
  </section>

  <!-- O nas -->
  <section id="o-nas" class="container mx-auto px-6 py-12">
    <h3 class="text-2xl md:text-3xl font-semibold text-center gold-text" data-pl="O nas" data-de="√úber uns">O nas</h3>
    <div class="max-w-3xl mx-auto text-center mt-6">
      <p data-pl="Zaczynali≈õmy od jednego narzƒôdzia i marzenia, ≈ºeby robiƒá rzeczy lepiej." data-de="Wir haben mit einem Werkzeug und dem Traum begonnen, Dinge besser zu machen.">Zaczynali≈õmy od jednego narzƒôdzia i marzenia, ≈ºeby robiƒá rzeczy lepiej.</p>
      <p class="mt-3" data-pl="Dzi≈õ pracujemy w Niemczech, z tƒÖ samƒÖ precyzjƒÖ, cierpliwo≈õciƒÖ i dumƒÖ, kt√≥ra towarzyszy≈Ça nam od poczƒÖtku." data-de="Heute arbeiten wir in Deutschland mit derselben Pr√§zision, Geduld und dem Stolz von damals.">Dzi≈õ pracujemy w Niemczech, z tƒÖ samƒÖ precyzjƒÖ, cierpliwo≈õciƒÖ i dumƒÖ, kt√≥ra towarzyszy≈Ça nam od poczƒÖtku.</p>
      <p class="mt-3 font-semibold" data-pl="Nie jeste≈õmy najwiƒôksi. Ale jeste≈õmy Ci potrzebni, gdy liczy siƒô dok≈Çadno≈õƒá." data-de="Wir sind nicht die gr√∂√üten. Aber wir sind die Richtigen, wenn Pr√§zision z√§hlt.">Nie jeste≈õmy najwiƒôksi. Ale jeste≈õmy Ci potrzebni, gdy liczy siƒô dok≈Çadno≈õƒá.</p>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mt-10">
      <div class="bg-white p-6 rounded-2xl shadow">
        <div class="w-14 h-14 rounded-full bg-[var(--gold)] text-white flex items-center justify-center mx-auto font-bold">10+</div>
        <h4 class="text-lg font-semibold mt-4 text-[var(--nav-bg)]" data-pl="Lat do≈õwiadczenia" data-de="Jahre Erfahrung">Lat do≈õwiadczenia</h4>
        <p class="text-gray-600">W bran≈ºy budowlanej</p>
      </div>
      <div class="bg-white p-6 rounded-2xl shadow">
        <div class="w-14 h-14 rounded-full bg-[var(--gold)] text-white flex items-center justify-center mx-auto font-bold">200+</div>
        <h4 class="text-lg font-semibold mt-4 text-[var(--nav-bg)]" data-pl="Zrealizowanych projekt√≥w" data-de="Abgeschlossene Projekte">Zrealizowanych projekt√≥w</h4>
        <p class="text-gray-600">Zadowolonych klient√≥w</p>
      </div>
      <div class="bg-white p-6 rounded-2xl shadow">
        <div class="w-14 h-14 rounded-full bg-[var(--gold)] text-white flex items-center justify-center mx-auto font-bold">100%</div>
        <h4 class="text-lg font-semibold mt-4 text-[var(--nav-bg)]" data-pl="Gwarancja jako≈õci" data-de="Qualit√§tsgarantie">Gwarancja jako≈õci</h4>
        <p class="text-gray-600">Terminowo i solidnie</p>
      </div>
    </div>
  </section>

  <!-- Us≈Çugi -->
  <section id="uslugi" class="bg-[#f9fafb] py-12">
    <div class="container mx-auto px-6">
      <h3 class="text-2xl text-center gold-text" data-pl="Nasze us≈Çugi" data-de="Unsere Dienstleistungen">Nasze us≈Çugi</h3>
      <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mt-8">
        <div class="bg-white rounded-2xl p-6 shadow text-center">
          <div class="w-12 h-12 rounded-full bg-[var(--nav-bg)] text-[var(--gold)] mx-auto flex items-center justify-center">üè†</div>
          <h4 class="mt-4 font-semibold text-[var(--gold)]" data-pl="Remonty wnƒôtrz" data-de="Innenrenovierungen">Remonty wnƒôtrz</h4>
          <p class="text-gray-600 mt-2" data-pl="Kompleksowe wyko≈Ñczenia mieszka≈Ñ i dom√≥w." data-de="Komplette Renovierungen von Wohnungen und H√§usern.">Kompleksowe wyko≈Ñczenia mieszka≈Ñ i dom√≥w.</p>
        </div>
        <div class="bg-white rounded-2xl p-6 shadow text-center">
          <div class="w-12 h-12 rounded-full bg-[var(--nav-bg)] text-[var(--gold)] mx-auto flex items-center justify-center">üèóÔ∏è</div>
          <h4 class="mt-4 font-semibold text-[var(--gold)]" data-pl="Budowa dom√≥w" data-de="Hausbau">Budowa dom√≥w</h4>
          <p class="text-gray-600 mt-2" data-pl="Od fundament√≥w po dach ‚Äì budujemy solidnie i terminowo." data-de="Vom Fundament bis zum Dach ‚Äì solide und termingerecht.">Od fundament√≥w po dach ‚Äì budujemy solidnie i terminowo.</p>
        </div>
        <div class="bg-white rounded-2xl p-6 shadow text-center">
          <div class="w-12 h-12 rounded-full bg-[var(--nav-bg)] text-[var(--gold)] mx-auto flex items-center justify-center">üé®</div>
          <h4 class="mt-4 font-semibold text-[var(--gold)]" data-pl="Malowanie i elewacje" data-de="Malerarbeiten und Fassaden">Malowanie i elewacje</h4>
          <p class="text-gray-600 mt-2" data-pl="Nowoczesne technologie i estetyka, kt√≥ra trwa latami." data-de="Moderne Technologien und √Ñsthetik, die jahrelang h√§lt.">Nowoczesne technologie i estetyka, kt√≥ra trwa latami.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Realizacje -->
  <section id="realizacje" class="py-12 bg-white">
    <div class="container mx-auto px-6">
      <h3 class="text-2xl text-center gold-text" data-pl="Nasze realizacje" data-de="Unsere Projekte">Nasze realizacje</h3>
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 mt-8">
        <div class="group relative overflow-hidden rounded-2xl shadow cursor-pointer" onclick="openModal('https://images.unsplash.com/photo-1545324418-cc1a3fa10c00')">
          <img src="https://images.unsplash.com/photo-1545324418-cc1a3fa10c00?auto=format&fit=crop&w=800&q=60" class="w-full h-56 object-cover" alt="">
          <div class="absolute inset-0 bg-black bg-opacity-30 opacity-0 group-hover:opacity-100 flex items-center justify-center transition">
            <span class="text-white font-semibold" data-pl="Remont mieszkania" data-de="Wohnungsrenovierung">Remont mieszkania</span>
          </div>
        </div>
        <div class="group relative overflow-hidden rounded-2xl shadow cursor-pointer" onclick="openModal('https://images.unsplash.com/photo-1513584684374-8bab748fbf90')">
          <img src="https://images.unsplash.com/photo-1513584684374-8bab748fbf90?auto=format&fit=crop&w=800&q=60" class="w-full h-56 object-cover" alt="">
          <div class="absolute inset-0 bg-black bg-opacity-30 opacity-0 group-hover:opacity-100 flex items-center justify-center transition">
            <span class="text-white font-semibold" data-pl="Nowy dom" data-de="Neues Haus">Nowy dom</span>
          </div>
        </div>
        <div class="group relative overflow-hidden rounded-2xl shadow cursor-pointer" onclick="openModal('https://images.unsplash.com/photo-1493809842364-78817add7ffb')">
          <img src="https://images.unsplash.com/photo-1493809842364-78817add7ffb?auto=format&fit=crop&w=800&q=60" class="w-full h-56 object-cover" alt="">
          <div class="absolute inset-0 bg-black bg-opacity-30 opacity-0 group-hover:opacity-100 flex items-center justify-center transition">
            <span class="text-white font-semibold" data-pl="Elewacja" data-de="Fassade">Elewacja</span>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Opinie (carousel simple) -->
  <section id="opinie" class="py-12 bg-[#f9fafb]">
    <div class="container mx-auto px-6">
      <h3 class="text-2xl text-center gold-text" data-pl="Opinie naszych klient√≥w" data-de="Kundenbewertungen">Opinie naszych klient√≥w</h3>
      <div class="mt-8">
        <div id="reviews" class="grid grid-cols-1 md:grid-cols-3 gap-6">
          <!-- reviews injected by JS -->
        </div>
        <div class="flex justify-center gap-2 mt-6">
          <button id="revPrev" class="px-3 py-1 rounded bg-white border">‚óÄ</button>
          <button id="revNext" class="px-3 py-1 rounded bg-white border">‚ñ∂</button>
        </div>
      </div>
    </div>
  </section>

  <!-- Sekcja reklam / og≈Çosze≈Ñ dla firm -->
  <section id="reklamy" class="py-12">
    <div class="container mx-auto px-6">
      <h3 class="text-2xl text-center gold-text" data-pl="Reklama i partnerzy" data-de="Werbung & Partner">Reklama i partnerzy</h3>
      <p class="text-center text-gray-600 mt-3" data-pl="Chcesz reklamowaƒá swojƒÖ firmƒô budowlanƒÖ lub zostaƒá naszym partnerem? Wype≈Çnij formularz." data-de="M√∂chten Sie Ihr Bauunternehmen bewerben oder Partner werden? Formular ausf√ºllen.">Chcesz reklamowaƒá swojƒÖ firmƒô budowlanƒÖ lub zostaƒá naszym partnerem? Wype≈Çnij formularz.</p>

      <div class="max-w-3xl mx-auto mt-6 bg-white p-6 rounded-2xl shadow">
        <form id="adForm" class="space-y-4">
          <div>
            <label class="block text-sm font-medium text-gray-700">Nazwa firmy</label>
            <input type="text" id="adCompany" class="w-full mt-1 p-2 border rounded" required>
          </div>
          <div>
            <label class="block text-sm font-medium text-gray-700">Kr√≥tki opis / oferta</label>
            <textarea id="adText" class="w-full mt-1 p-2 border rounded" rows="3" required></textarea>
          </div>
          <div class="flex gap-3">
            <input type="url" id="adWebsite" placeholder="https://..." class="flex-1 p-2 border rounded">
            <input type="tel" id="adPhone" placeholder="+49..." class="w-40 p-2 border rounded">
          </div>
          <div class="flex justify-end">
            <button type="submit" class="px-6 py-2 rounded reg-btn">Wy≈õlij zg≈Çoszenie</button>
          </div>
          <p id="adMsg" class="text-sm text-green-600 hidden">Zg≈Çoszenie wys≈Çane (symulacja)</p>
        </form>
      </div>
    </div>
  </section>

  <!-- Partnerzy -->
  <section id="partnerzy" class="py-12 bg-white">
    <div class="container mx-auto px-6">
      <h3 class="text-2xl text-center gold-text" data-pl="Partnerzy i wsp√≥≈Çpraca" data-de="Partner und Zusammenarbeit">Partnerzy i wsp√≥≈Çpraca</h3>
      <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mt-8">
        <div class="bg-white p-6 rounded-2xl shadow text-center">
          <img src="https://via.placeholder.com/150x80?text=Pol-Bau" class="mx-auto mb-4" alt="Pol-Bau">
          <p class="font-semibold">Pol-Bau GmbH</p>
        </div>
        <div class="bg-white p-6 rounded-2xl shadow text-center">
          <img src="https://via.placeholder.com/150x80?text=HausRenovieren" class="mx-auto mb-4" alt="">
          <p class="font-semibold">HausRenovieren24</p>
        </div>
        <div class="bg-white p-6 rounded-2xl shadow text-center">
          <img src="https://via.placeholder.com/150x80?text=ElektroKraft" class="mx-auto mb-4" alt="">
          <p class="font-semibold">ElektroKraft</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Blog (prosty, posty widoczne 2 dni) -->
  <section id="blog" class="py-12 bg-[#0f1724] text-white">
    <div class="container mx-auto px-6">
      <h3 class="text-2xl text-center gold-text">Blog</h3>
      <p class="text-center text-gray-300 mt-2">Dodaj wpisy, widoczne przez 2 dni.</p>

      <div class="max-w-3xl mx-auto mt-6">
        <div id="blogFormWrap" class="bg-gray-900 p-6 rounded-2xl blog-card">
          <form id="blogAddForm" class="space-y-3">
            <input id="bTitle" placeholder="Tytu≈Ç" class="w-full p-2 rounded bg-gray-800 border" required>
            <input id="bExcerpt" placeholder="Kr√≥tki opis" class="w-full p-2 rounded bg-gray-800 border" required>
            <textarea id="bContent" placeholder="Pe≈Çna tre≈õƒá" rows="4" class="w-full p-2 rounded bg-gray-800 border" required></textarea>
            <div class="flex justify-between items-center">
              <div class="text-sm text-gray-300">Kategoria:
                <select id="bCat" class="ml-2 bg-gray-800 p-1 rounded">
                  <option>Moda</option><option>Ludzie</option><option>Marzenia</option>
                </select>
              </div>
              <button class="px-4 py-2 rounded reg-btn" type="submit">Opublikuj (2 dni)</button>
            </div>
            <p id="bMsg" class="text-sm text-green-400 hidden">Opublikowano</p>
          </form>
        </div>

        <div id="blogList" class="mt-6 grid gap-4"></div>
      </div>
    </div>
  </section>

  <!-- Kontakt -->
  <section id="kontakt" class="py-12 bg-white">
    <div class="container mx-auto px-6">
      <h3 class="text-2xl text-center gold-text" data-pl="Kontakt" data-de="Kontakt">Kontakt</h3>
      <div class="max-w-4xl mx-auto mt-6 grid grid-cols-1 md:grid-cols-2 gap-6">
        <div class="bg-white p-6 rounded-2xl shadow">
          <h4 class="font-semibold text-[var(--nav-bg)]">Dane kontaktowe</h4>
          <p class="mt-3 text-gray-600">üìû +49 123 456 7890</p>
          <!-- user email removed per request -->
          <p class="mt-2 text-gray-600">üìç Dzia≈Çamy na terenie Niemiec</p>
        </div>
        <div class="bg-white p-6 rounded-2xl shadow">
          <h4 class="font-semibold text-[var(--nav-bg)]">Napisz do nas</h4>
          <form id="contactForm" class="mt-3 space-y-3">
            <input id="cName" placeholder="Twoje imiƒô" class="w-full p-2 border rounded" required>
            <input id="cEmail" type="email" placeholder="E-mail" class="w-full p-2 border rounded" required>
            <textarea id="cMsg" placeholder="Wiadomo≈õƒá" rows="4" class="w-full p-2 border rounded" required></textarea>
            <div class="flex justify-end">
              <button type="submit" class="px-4 py-2 rounded reg-btn">Wy≈õlij</button>
            </div>
            <p id="cAck" class="text-sm text-green-600 hidden">Wiadomo≈õƒá wys≈Çana (symulacja)</p>
          </form>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="bg-[var(--nav-bg)] text-white py-6">
    <div class="container mx-auto px-6 text-center">
      <p class="gold-text font-semibold">Rafa≈Ç Pistrakiewicz Bau & Renovierung</p>
      <p class="text-sm mt-1">¬© <span id="year"></span> All rights reserved.</p>
    </div>
  </footer>

  <!-- Mobile bottom nav (simple) -->
  <div class="mobile-bottom-nav">
    <div class="nav-icons container mx-auto flex justify-around">
      <a href="#o-nas" class="nav-icon"><i class="fa fa-home"></i><span class="text-xs">O nas</span></a>
      <a href="#uslugi" class="nav-icon"><i class="fa fa-briefcase"></i><span class="text-xs">Us≈Çugi</span></a>
      <a href="#realizacje" class="nav-icon"><i class="fa fa-image"></i><span class="text-xs">Realizacje</span></a>
      <a href="#kontakt" class="nav-icon"><i class="fa fa-envelope"></i><span class="text-xs">Kontakt</span></a>
    </div>
  </div>

  <!-- Modal (image full) -->
  <div id="imgModal" class="fixed inset-0 bg-black bg-opacity-80 hidden items-center justify-center z-50">
    <div class="max-w-4xl w-full p-4">
      <img id="imgModalImg" src="" alt="" class="w-full rounded" />
      <div class="text-right mt-3">
        <button onclick="closeModal()" class="px-4 py-2 rounded bg-white text-[var(--nav-bg)]">Zamknij</button>
      </div>
    </div>
  </div>

  <!-- SCRIPTS -->
  <script>
    // hide loading
    window.addEventListener('load', ()=>{ const L=document.getElementById('loading'); if(L){L.style.display='none';} });

    // mobile menu
    document.getElementById('mobileMenuButton').addEventListener('click', ()=> {
      const m = document.getElementById('mobileMenu'); if(!m) return;
      m.classList.toggle('hidden');
    });

    // language toggle (simple)
    const langButtons = document.querySelectorAll('.lang-btn');
    function setLanguage(lang){
      document.querySelectorAll('[data-pl]').forEach(el=>{
        const pl = el.getAttribute('data-pl'); const de = el.getAttribute('data-de')||pl;
        el.textContent = (lang==='de') ? de : pl;
      });
      // realign for inputs/placeholders manually if needed
      if(lang==='de'){
        document.documentElement.lang='de';
      } else {
        document.documentElement.lang='pl';
      }
    }
    langButtons.forEach(b => b.addEventListener('click', ()=> setLanguage(b.dataset.lang || b.getAttribute('data-lang') || 'pl')));
    // default pl
    setLanguage('pl');

    // modal open/close
    function openModal(src){ document.getElementById('imgModalImg').src = src; document.getElementById('imgModal').classList.remove('hidden'); }
    function closeModal(){ document.getElementById('imgModalImg').src=''; document.getElementById('imgModal').classList.add('hidden'); }

    // reviews data + small carousel
    const reviewsData = [
      {name:'Anna Nowak', text:'Profesjonalna obs≈Çuga i terminowe wykonanie. Polecam!', location:'Remont mieszkania, Berlin'},
      {name:'Thomas Schmidt', text:'Solidna firma, dok≈Çadnie tak jak obiecali. Jako≈õƒá na najwy≈ºszym poziomie.', location:'Budowa domu, Hamburg'},
      {name:'Robert Weber', text:'Bardzo polecam! Rzetelni fachowcy w przystƒôpnej cenie.', location:'Malowanie, Monachium'},
      {name:'Michael Braun', text:'Perfekcyjna wsp√≥≈Çpraca od poczƒÖtku do ko≈Ñca. Terminy dotrzymane w 100%.', location:'Elewacja, Frankfurt'}
    ];
    let revIdx=0;
    function renderReviews(idx){
      const container = document.getElementById('reviews'); if(!container) return;
      container.innerHTML='';
      const chunk = []; // show 3 per view or as many as exist
      for(let i=0;i<3;i++){
        const j = (idx+i) % reviewsData.length;
        chunk.push(reviewsData[j]);
      }
      chunk.forEach(r=>{
        const div=document.createElement('div');
        div.className='bg-white p-6 rounded-2xl shadow';
        div.innerHTML = '<div class="text-yellow-400 text-xl mb-2">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div><p class="text-gray-600 mb-4">'+r.text+'</p><div class="flex items-center"><div class="w-10 h-10 bg-gray-300 rounded-full mr-3"></div><div><p class="font-semibold">'+r.name+'</p><p class="text-sm text-gray-500">'+r.location+'</p></div></div>';
        container.appendChild(div);
      });
    }
    renderReviews(revIdx);
    document.getElementById('revPrev').addEventListener('click', ()=>{ revIdx = (revIdx-1+reviewsData.length)%reviewsData.length; renderReviews(revIdx); });
    document.getElementById('revNext').addEventListener('click', ()=>{ revIdx = (revIdx+1)%reviewsData.length; renderReviews(revIdx); });

    // Ads form (simulation)
    document.getElementById('adForm').addEventListener('submit', function(e){
      e.preventDefault();
      const name = document.getElementById('adCompany').value.trim();
      const msg = document.getElementById('adText').value.trim();
      if(!name||!msg) return;
      // simulate send
      document.getElementById('adMsg').classList.remove('hidden');
      setTimeout(()=>{ document.getElementById('adMsg').classList.add('hidden'); this.reset(); }, 2200);
    });

    // contact form (simulation)
    document.getElementById('contactForm').addEventListener('submit', function(e){
      e.preventDefault();
      document.getElementById('cAck').classList.remove('hidden');
      setTimeout(()=>{ document.getElementById('cAck').classList.add('hidden'); this.reset(); }, 2200);
    });

    // blog: posts visible 48h (2 dni)
    const BLOG_KEY = 'rp_blog_posts_v1';
    const POST_TTL_MS = 2 * 24 * 60 * 60 * 1000; // 2 dni
    function loadBlog(){ try{ const s=localStorage.getItem(BLOG_KEY); return s?JSON.parse(s):[] } catch(e){return[];} }
    function saveBlog(arr){ localStorage.setItem(BLOG_KEY, JSON.stringify(arr)); }
    function cleanupBlog(){
      const now=Date.now();
      let posts=loadBlog();
      posts = posts.filter(p => !p.expiresAt || p.expiresAt > now);
      saveBlog(posts);
    }
    function renderBlog(){
      cleanupBlog();
      const posts = loadBlog().sort((a,b)=> b.created - a.created);
      const list = document.getElementById('blogList'); if(!list) return;
      list.innerHTML='';
      if(posts.length===0){ list.innerHTML = '<div class="text-gray-300 text-center py-8">Brak post√≥w.</div>'; return; }
      posts.forEach(p=>{
        const d = new Date(p.created).toLocaleString();
        const card = document.createElement('div');
        card.className='p-4 rounded-2xl blog-card';
        card.innerHTML = '<h4 class="font-semibold gold-head">'+escapeHtml(p.title)+'</h4><p class="text-gray-300 text-sm mt-1">Kategoria: '+escapeHtml(p.category)+' | '+d+'</p><p class="mt-3 text-gray-200">'+escapeHtml(p.excerpt)+'</p>';
        list.appendChild(card);
      });
    }
    function escapeHtml(s){ if(!s) return ''; return String(s).replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;'); }
    document.getElementById('blogAddForm').addEventListener('submit', function(e){
      e.preventDefault();
      const title=document.getElementById('bTitle').value.trim();
      const excerpt=document.getElementById('bExcerpt').value.trim();
      const content=document.getElementById('bContent').value.trim();
      const category=document.getElementById('bCat').value;
      if(!title||!excerpt||!content) return;
      const posts = loadBlog();
      const now=Date.now();
      posts.push({ id:'p'+now, title, excerpt, content, category, created: now, expiresAt: now + POST_TTL_MS });
      saveBlog(posts);
      document.getElementById('bMsg').classList.remove('hidden');
      setTimeout(()=>{ document.getElementById('bMsg').classList.add('hidden'); document.getElementById('blogAddForm').reset(); }, 1600);
      renderBlog();
    });
    // initial render + interval to cleanup
    renderBlog();
    setInterval(renderBlog, 60*60*1000); // co godzinƒô

    // image modal close on click outside
    document.getElementById('imgModal').addEventListener('click', (e)=>{ if(e.target.id==='imgModal') closeModal(); });

    // footer year
    document.getElementById('year').textContent = new Date().getFullYear();

    // small helper: remove any trace of the private email (mielniczuk...) if present
    (function scrubPrivateEmail(){
      const privatePattern = /mielniczukgrzegosz74@|mielniczukgrzegosz/ig;
      document.querySelectorAll('*').forEach(el=>{
        if(el.children.length===0 && el.textContent && privatePattern.test(el.textContent)){
          el.textContent = el.textContent.replace(privatePattern, '[email removed]');
        }
        if(el.placeholder && privatePattern.test(el.placeholder)){
          el.placeholder = el.placeholder.replace(privatePattern, '[email removed]');
        }
      });
    })();

  </script>
</body>
</html>
